(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{448:function(t,n,e){"use strict";e.r(n);var a=e(10),r=Object(a.a)({},(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("blockquote",[e("p",[t._v("专栏原创出处："),e("a",{attrs:{href:"https://github.com/GourdErwa/review-notes/tree/master/framework/flink-basis",target:"_blank",rel:"noopener noreferrer"}},[t._v("github-源笔记文件 "),e("OutboundLink")],1),t._v(" ，"),e("a",{attrs:{href:"https://github.com/GourdErwa/flink-advanced",target:"_blank",rel:"noopener noreferrer"}},[t._v("github-源码 "),e("OutboundLink")],1),t._v("，欢迎 Star，转载请附上原文出处链接和本声明。")])]),t._v(" "),e("h2",{attrs:{id:"_1-environment-概览"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-environment-概览"}},[t._v("#")]),t._v(" 1 Environment 概览")]),t._v(" "),e("p",[t._v("该文档主要说明 Flink 作业执行时环境概念，根据不同作业情况选择不同的 "),e("code",[t._v("Environment")]),t._v("。"),e("br"),t._v("\n大多数 API 提供了静态方法创建对应 "),e("code",[t._v("Environment")]),t._v("，示例如下：")]),t._v(" "),e("div",{staticClass:"language-scala extra-class"},[e("pre",{pre:!0,attrs:{class:"language-scala"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" bEnv"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ExecutionEnvironment "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ExecutionEnvironment"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getExecutionEnvironment\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" btEnv"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" BatchTableEnvironment "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" BatchTableEnvironment"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("create"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bEnv"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" sEnv"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" StreamExecutionEnvironment "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" StreamExecutionEnvironment"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getExecutionEnvironment\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" stEnv"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" StreamTableEnvironment "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" StreamTableEnvironment"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("create"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sEnv"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("h2",{attrs:{id:"_2-批处理-batch"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-批处理-batch"}},[t._v("#")]),t._v(" 2 批处理（batch）")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://blog-review-notes.oss-cn-beijing.aliyuncs.com/framework/flink-basis/_images/ExecutionEnvironment_uml.png",alt:"ExecutionEnvironment_uml"}})]),t._v(" "),e("ul",[e("li",[e("code",[t._v("LocalEnvironment")]),t._v(" 本地模式执行")]),t._v(" "),e("li",[e("code",[t._v("RemoteEnvironment")]),t._v(" 提交到远程集群执行")]),t._v(" "),e("li",[e("code",[t._v("CollectionEnvironment")]),t._v(" 集合数据集模式执行")]),t._v(" "),e("li",[e("code",[t._v("OptimizerPlanEnvironment")]),t._v(" 不执行作业，仅创建优化的计划")]),t._v(" "),e("li",[e("code",[t._v("PreviewPlanEnvironment")]),t._v(" 提取预先优化的执行计划")]),t._v(" "),e("li",[e("code",[t._v("ContextEnvironment")]),t._v(" 用于在客户端上远程执行.\n"),e("ul",[e("li",[e("code",[t._v("DetachedEnvironment")]),t._v(" 用于在客户端上以分离模式进行远程执行")])])])]),t._v(" "),e("h2",{attrs:{id:"_3-流处理-streaming"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-流处理-streaming"}},[t._v("#")]),t._v(" 3 流处理（streaming）")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://blog-review-notes.oss-cn-beijing.aliyuncs.com/framework/flink-basis/_images/StreamExecutionEnvironment_uml.png",alt:"StreamExecutionEnvironment_uml"}})]),t._v(" "),e("ul",[e("li",[e("code",[t._v("LocalStreamEnvironment")]),t._v(" 本地模式执行")]),t._v(" "),e("li",[e("code",[t._v("RemoteStreamEnvironment")]),t._v(" 提交到远程集群执行")]),t._v(" "),e("li",[e("code",[t._v("StreamContextEnvironment")])]),t._v(" "),e("li",[e("code",[t._v("StreamPlanEnvironment")])])]),t._v(" "),e("h2",{attrs:{id:"_4-table-模式处理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-table-模式处理"}},[t._v("#")]),t._v(" 4 Table 模式处理")]),t._v(" "),e("p",[e("code",[t._v("TableEnvironment")]),t._v(" 是创建 Table&SQL 的接口类，用于处理有界与无界数据。"),e("br"),t._v("\n主要职责：")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("连接外部系统数据源")])]),t._v(" "),e("li",[e("p",[t._v("注册和检索 Table 及从 catalog 获取其他元对象信息")])]),t._v(" "),e("li",[e("p",[t._v("执行 SQL 语句")])]),t._v(" "),e("li",[e("p",[t._v("提供配置信息")])]),t._v(" "),e("li",[e("p",[e("img",{attrs:{src:"https://blog-review-notes.oss-cn-beijing.aliyuncs.com/framework/flink-basis/_images/TableEnvironment_uml.png",alt:"TableEnvironment_uml"}})])]),t._v(" "),e("li",[e("p",[e("code",[t._v("BatchTableEnvironment")]),t._v(" Batch 处理模式的 Table ，主要处理 DataSet 与 Table 之间操作")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("StreamTableEnvironment")]),t._v(" streaming 处理模式的 Table ， 主要处理 DataStream 与 Table 之间操作")])])])])}),[],!1,null,null,null);n.default=r.exports}}]);