(window.webpackJsonp=window.webpackJsonp||[]).push([[133],{345:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("blockquote",[s("p",[t._v("ä¸“æ åŸåˆ›å‡ºå¤„ï¼š"),s("a",{attrs:{href:"https://github.com/GourdErwa/review-notes/tree/master/language/java-core",target:"_blank",rel:"noopener noreferrer"}},[t._v("github-æºç¬”è®°æ–‡ä»¶ "),s("OutboundLink")],1),t._v(" ï¼Œ"),s("a",{attrs:{href:"https://github.com/GourdErwa/java-advanced/tree/master/java-core",target:"_blank",rel:"noopener noreferrer"}},[t._v("github-æºç  "),s("OutboundLink")],1),t._v("ï¼Œæ¬¢è¿ Starï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥å’Œæœ¬å£°æ˜ã€‚")])]),t._v(" "),s("p",[t._v("Java æ ¸å¿ƒçŸ¥è¯†ä¸“æ ç³»åˆ—ç¬”è®°ï¼Œç³»ç»Ÿæ€§å­¦ä¹ å¯è®¿é—®ä¸ªäººå¤ç›˜ç¬”è®°-æŠ€æœ¯åšå®¢ "),s("a",{attrs:{href:"https://review-notes.top/language/java-core/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Java æ ¸å¿ƒçŸ¥è¯† "),s("OutboundLink")],1)]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#hashmap"}},[t._v("HashMap")])]),s("li",[s("a",{attrs:{href:"#hashmap-å…³é”®å­—æ®µè®²è§£"}},[t._v("HashMap å…³é”®å­—æ®µè®²è§£")])]),s("li",[s("a",{attrs:{href:"#ä¸ºä»€ä¹ˆ"}},[t._v("ä¸ºä»€ä¹ˆ")]),s("ul",[s("li",[s("a",{attrs:{href:"#ä¸ºä»€ä¹ˆ-table-è¦è®¾è®¡ä¸º-node-ç»“æ„çš„æ•°ç»„ï¼Ÿ"}},[t._v("ä¸ºä»€ä¹ˆ table è¦è®¾è®¡ä¸º Node[] ç»“æ„çš„æ•°ç»„ï¼Ÿ")])]),s("li",[s("a",{attrs:{href:"#ä¸ºä»€ä¹ˆå®¹é‡ä¸º-2-æ¬¡å¹‚ï¼Ÿ"}},[t._v("ä¸ºä»€ä¹ˆå®¹é‡ä¸º 2 æ¬¡å¹‚ï¼Ÿ")])])])]),s("li",[s("a",{attrs:{href:"#hash-æ–¹æ³•è§£è¯»"}},[t._v("hash æ–¹æ³•è§£è¯»")])]),s("li",[s("a",{attrs:{href:"#put-æ–¹æ³•è§£è¯»"}},[t._v("put æ–¹æ³•è§£è¯»")])]),s("li",[s("a",{attrs:{href:"#get-æ–¹æ³•è§£è¯»"}},[t._v("get æ–¹æ³•è§£è¯»")])]),s("li",[s("a",{attrs:{href:"#rehash-æ‰©å®¹æ–¹æ³•è§£è¯»"}},[t._v("rehash æ‰©å®¹æ–¹æ³•è§£è¯»")])]),s("li",[s("a",{attrs:{href:"#å“ˆå¸Œç¢°æ’ä»£ç å®æˆ˜"}},[t._v("å“ˆå¸Œç¢°æ’ä»£ç å®æˆ˜")]),s("ul",[s("li",[s("a",{attrs:{href:"#å®æˆ˜ä»£ç è¯´æ˜"}},[t._v("å®æˆ˜ä»£ç è¯´æ˜")])]),s("li",[s("a",{attrs:{href:"#å“ˆå¸Œç¢°æ’å®æˆ˜åˆ†æ"}},[t._v("å“ˆå¸Œç¢°æ’å®æˆ˜åˆ†æ")])])])]),s("li",[s("a",{attrs:{href:"#hashmap-å­˜åœ¨çš„é—®é¢˜"}},[t._v("HashMap å­˜åœ¨çš„é—®é¢˜")])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"hashmap"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hashmap"}},[t._v("#")]),t._v(" HashMap")]),t._v(" "),s("p",[t._v("åŸºäº jdk1.8 è®²è§£åˆ†æã€‚æœ¬ç¯‡ä¸æ¶‰åŠå¤ªå¤šæºç è®²è§£ï¼Œé‡ç‚¹ä¸ºé‡‡ç”¨"),s("strong",[t._v("å“ˆå¸Œç¢°æ’å®æˆ˜åˆ†æ")]),t._v("å¤„ç†è¿‡ç¨‹ã€‚")]),t._v(" "),s("p",[t._v("å¦‚æœå¯¹çº¢é»‘æ ‘è½¬æ¢ä¸ºå•é“¾è¡¨æ„Ÿå…´è¶£ï¼Œå¯ä»¥ä¿®æ”¹å®æˆ˜ä»£ç è¿›è¡Œ remove æ“ä½œè§‚å¯Ÿå¤„ç†è¿‡ç¨‹ã€‚")]),t._v(" "),s("blockquote",[s("ul",[s("li",[t._v("åœ¨ debug è¿‡ç¨‹ä¸­å¦‚æœä½ çœ‹ä¸åˆ° map å†…éƒ¨æ•°æ®ç»“æ„çš„è¯ï¼Œidea ä¸­ä¿®æ”¹è®¾ç½® Data Views->Java->Enable alternative view...ã€‚")]),t._v(" "),s("li",[t._v('Gradle å¯åŠ¨æ—¶è¿è¡Œçª—å£"å¯èƒ½"ä¸º 2 ä¸ªï¼Œé€‰æ‹©ä½ çš„çª—å£ä»£ç è°ƒè¯•ï¼ŒGradle æœ¬èº«çš„çª—å£æˆ‘ä»¬å¯ä»¥å¿½ç•¥ã€‚')])])]),t._v(" "),s("h2",{attrs:{id:"hashmap-å…³é”®å­—æ®µè®²è§£"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hashmap-å…³é”®å­—æ®µè®²è§£"}},[t._v("#")]),t._v(" HashMap å…³é”®å­—æ®µè®²è§£")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("table"),s("br"),t._v(" "),s("code",[t._v("Node[]")]),t._v(" ç»“æ„çš„æ•°ç»„ï¼Œä¿å­˜æˆ‘ä»¬çš„ K/V é”®å€¼å¯¹ä¿¡æ¯ã€‚Node å¯èƒ½ä¸ºå•é“¾è¡¨ï¼ˆNodeï¼‰æˆ–è€…çº¢é»‘æ ‘ï¼ˆTreeNodeï¼‰ç»“æ„ï¼ŒTreeNode ç»§æ‰¿äº† Nodeã€‚")])]),t._v(" "),s("li",[s("p",[t._v("capacity"),s("br"),t._v("\nå®¹é‡ï¼Œå³ table çš„é•¿åº¦ï¼Œé»˜è®¤ 16ã€‚å®¹é‡ä¸º 2 æ¬¡å¹‚ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("loadFactor"),s("br"),t._v("\nè´Ÿè½½å› å­ï¼Œé»˜è®¤ 0.75fã€‚å†³å®šäº†æ¡¶çš„ä½¿ç”¨æƒ…å†µã€‚")]),t._v(" "),s("ul",[s("li",[t._v("è´Ÿè½½å› å­å¤ªå¤§ï¼Œæ¡¶çš„åˆ©ç”¨ç‡è¶Šé«˜ï¼Œä½†æ˜¯å†²çªçš„å‡ ç‡å˜å¤§äº†ã€‚")]),t._v(" "),s("li",[t._v("è´Ÿè½½å› å­å¤ªå°ï¼Œæ¡¶çš„åˆ©ç”¨ç‡è¶Šä½ï¼Œå†²çªå‡ ç‡å˜å°äº†ã€‚")]),t._v(" "),s("li",[t._v("å¹³è¡¡ä¸æŠ˜è¡·çš„é»˜è®¤å€¼è®¾ç½®ä¸º 0.75fã€‚å¯å‚è€ƒ "),s("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2015/06/poisson-distribution.html#comment-356111",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ³Šæ¾åˆ†å¸ƒå’ŒæŒ‡æ•°åˆ†å¸ƒ "),s("OutboundLink")],1),t._v("ã€‚")])])]),t._v(" "),s("li",[s("p",[t._v("threshold"),s("br"),t._v("\næ‰©å®¹é˜ˆå€¼ï¼Œå½“ K/V çš„æ•°é‡å¤§äºç­‰äºè¯¥é˜ˆå€¼æ—¶ table è¿›è¡Œæ‰©å®¹ï¼Œåˆå§‹åŒ–æ—¶é»˜è®¤ä¸º 16ã€‚")]),t._v(" "),s("ul",[s("li",[t._v("è¿›è¡Œ put æˆ–è€…æ‰©å®¹æ“ä½œåæŒ‰å…¬å¼ threshold = capacity * loadFactor è®¡ç®—ã€‚")]),t._v(" "),s("li",[t._v("å‡å¦‚æˆ‘ä»¬çš„åˆå§‹åŒ–å®¹é‡æ˜¯ 16ï¼Œè´Ÿè½½å› å­æ˜¯ 0.75fï¼Œç¬¬ä¸€æ¬¡æ‰©å®¹çš„é˜ˆå€¼ä¸º 12ã€‚")])])]),t._v(" "),s("li",[s("p",[t._v("size"),s("br"),t._v("\nK/V çš„æ•°é‡ï¼Œæˆ‘ä»¬æ”¾å…¥ table ä¸­çš„é”®å€¼å¯¹æ•°é‡ã€‚")])])]),t._v(" "),s("h2",{attrs:{id:"ä¸ºä»€ä¹ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆ"}},[t._v("#")]),t._v(" ä¸ºä»€ä¹ˆ")]),t._v(" "),s("h3",{attrs:{id:"ä¸ºä»€ä¹ˆ-table-è¦è®¾è®¡ä¸º-node-ç»“æ„çš„æ•°ç»„ï¼Ÿ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆ-table-è¦è®¾è®¡ä¸º-node-ç»“æ„çš„æ•°ç»„ï¼Ÿ"}},[t._v("#")]),t._v(" ä¸ºä»€ä¹ˆ table è¦è®¾è®¡ä¸º "),s("code",[t._v("Node[]")]),t._v(" ç»“æ„çš„æ•°ç»„ï¼Ÿ")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("å¦‚ä½•ç¡®å®š K/V æ•°æ®è¦ä¿å­˜åˆ°å“ªä¸ªæ•°ç»„ä¸‹æ ‡å‘¢ï¼Ÿ"),s("br"),t._v("\né€šè¿‡ K çš„å“ˆå¸Œå€¼å®šä½åˆ°æ•°ç»„ä¸‹æ ‡ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("å¦‚æœå¤šä¸ª K ç”Ÿæˆçš„å“ˆå¸Œå€¼å‡ºç°éƒ½ä¸€æ ·æ—¶ï¼ˆå“ˆå¸Œå†²çªï¼‰æ€ä¹ˆåŠï¼Ÿ"),s("br"),t._v(" "),s("em",[t._v("æ­¤å¤„åº”è¯¥æ˜¯ç†è§£ HashMap æ•°æ®ç»“æ„çš„é‡ç‚¹äº†")]),t._v("ã€‚å‡ºç°å†²çªåå®šä½çš„æ•°ç»„ç´¢å¼•ä¸‹æ ‡éƒ½ä¸€æ ·äº†ï¼Œå› æ­¤æˆ‘ä»¬è¦åœ¨ä¸€ä¸ªæ•°ç»„ä¸‹æ ‡ä¸Šæ”¾å¥½å¤šæ•°æ®ï¼Œ\nHashMap é‡‡ç”¨äº† Nodeï¼ˆå•é“¾è¡¨ï¼‰ï¼ŒTreeNodeï¼ˆçº¢é»‘æ ‘ï¼‰æ¥ä¿å­˜æ¯ä¸ªæ•°ç»„ä¸‹æ ‡çš„æ•°æ®ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("ä¸ºä»€ä¹ˆè¦ç”¨ å•é“¾è¡¨ã€çº¢é»‘æ ‘ ä¸¤ç§æ ‘ç»“æ„å‘¢ï¼Ÿ")]),t._v(" "),s("ul",[s("li",[t._v("çº¢é»‘æ ‘éœ€è¦è¿›è¡Œå·¦æ—‹ï¼Œå³æ—‹æ“ä½œï¼Œ è€Œå•é“¾è¡¨ä¸éœ€è¦ï¼Œå•é“¾è¡¨åªèƒ½é¡ºåºæŸ¥æ‰¾ã€‚")]),t._v(" "),s("li",[t._v("å¦‚æœå…ƒç´ å°äº 8 ä¸ªï¼Œå•é“¾è¡¨ï¼ŒæŸ¥è¯¢æˆæœ¬é«˜ï¼Œæ–°å¢æˆæœ¬ä½ã€‚")]),t._v(" "),s("li",[t._v("å¦‚æœå…ƒç´ å¤§äº 8 ä¸ªï¼Œçº¢é»‘æ ‘ï¼ŒæŸ¥è¯¢æˆæœ¬ä½ï¼Œæ–°å¢æˆæœ¬é«˜ã€‚")])])]),t._v(" "),s("li",[s("p",[t._v("ä»€ä¹ˆæ—¶å€™å•é“¾è¡¨ä¸çº¢é»‘æ ‘äº’ç›¸è½¬æ¢ï¼Ÿ")]),t._v(" "),s("ul",[s("li",[t._v("å¦‚æœå½“å‰é“¾è¡¨çš„ä¸ªæ•° â‰¥ 8ï¼Œä¸” capacity â‰¥ 64ï¼Œå•é“¾è¡¨ä¼šè½¬ä¸ºçº¢é»‘æ ‘ã€‚")]),t._v(" "),s("li",[t._v("å¦‚æœå½“å‰çº¢é»‘æ ‘çš„ä¸ªæ•° â‰¤ 6ï¼Œçº¢é»‘æ ‘ä¼šè½¬ä¸ºå•é“¾è¡¨ã€‚")]),t._v(" "),s("li",[t._v("åŸå› å¯å‚è€ƒ "),s("a",{attrs:{href:"https://notes.daiyuhe.com/bucket-convert-to-red-black-tree-when-8-size/",target:"_blank",rel:"noopener noreferrer"}},[t._v("IanDai's Notes"),s("OutboundLink")],1),t._v("ï¼Œæ­¤å¤„ä¸åšå¤è¿°ã€‚")])])])]),t._v(" "),s("h3",{attrs:{id:"ä¸ºä»€ä¹ˆå®¹é‡ä¸º-2-æ¬¡å¹‚ï¼Ÿ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆå®¹é‡ä¸º-2-æ¬¡å¹‚ï¼Ÿ"}},[t._v("#")]),t._v(" ä¸ºä»€ä¹ˆå®¹é‡ä¸º 2 æ¬¡å¹‚ï¼Ÿ")]),t._v(" "),s("p",[t._v("é€šè¿‡ K çš„ hash å€¼å®šä½ table ä¸‹æ ‡çš„ä»£ç ä¸ºï¼š "),s("code",[t._v("Node p = tab[i = (n - 1) & hash]")]),t._v("ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("& ä¸è¿ç®—ï¼Œç›¸åŒä½ç½®éƒ½ä¸º 1 æ—¶ç»“æœä¸º 1ï¼Œå¦åˆ™ä¸º 0ã€‚")])]),t._v(" "),s("p",[t._v("å› ä¸º n æ°¸è¿œæ˜¯ 2 çš„æ¬¡å¹‚ï¼Œæ‰€ä»¥ n-1 é€šè¿‡äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œæ°¸è¿œéƒ½æ˜¯å°¾ç«¯ä»¥è¿ç»­ 1 çš„å½¢å¼è¡¨ç¤ºï¼ˆ00001111ï¼Œ00000011ï¼‰ã€‚\nå½“ (n - 1) å’Œ hash åšä¸è¿ç®—æ—¶ï¼Œä¼šä¿ç•™ hash ä¸­ å x ä½çš„ 1ã€‚")]),t._v(" "),s("p",[t._v("æˆ‘ä»¬ç”¨ 4 ä½æ— ç¬¦å·æ•°äºŒè¿›åˆ¶ä½œä¸ºç¤ºä¾‹è¯´æ˜ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("table é•¿åº¦ä¸º n = 4 ï¼Œ[4] åè¿›åˆ¶ = [0100] äºŒè¿›åˆ¶")]),t._v(" "),s("li",[t._v("K çš„ hash å€¼ä¸º hash = 7ï¼Œ[7] åè¿›åˆ¶ = [0111] äºŒè¿›åˆ¶")]),t._v(" "),s("li",[t._v("(n - 1) = 3 ï¼Œ[4 - 1 = 3] åè¿›åˆ¶ = [0100-0001=0011] äºŒè¿›åˆ¶")]),t._v(" "),s("li",[t._v("(n - 1) & hash = hash % nï¼Œ[3 & 7 = 7 % 4 = 3] åè¿›åˆ¶ = 0011 & 0111 = 0011 = 3")])]),t._v(" "),s("p",[s("strong",[t._v("åŸå› æ€»ç»“ä¸ºï¼š")])]),t._v(" "),s("ul",[s("li",[t._v("& è¿ç®—é€Ÿåº¦å¿«ï¼Œè‡³å°‘æ¯” % å–æ¨¡è¿ç®—å¿«")]),t._v(" "),s("li",[t._v("ä¿è¯ä¸‹æ ‡è‚¯å®šåœ¨ capacity ä¸­ï¼Œä¸ä¼šè¶…å‡ºæ•°ç»„é•¿åº¦")]),t._v(" "),s("li",[t._v("å½“ n ä¸º 2 æ¬¡å¹‚æ—¶ï¼Œæ»¡è¶³å…¬å¼ï¼š(n - 1) & hash = hash % n")])]),t._v(" "),s("h2",{attrs:{id:"hash-æ–¹æ³•è§£è¯»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hash-æ–¹æ³•è§£è¯»"}},[t._v("#")]),t._v(" hash æ–¹æ³•è§£è¯»")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hash")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" h"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("h "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hashCode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("h "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("HashMap è®¡ç®— Key çš„å“ˆå¸Œå€¼æ—¶ï¼Œæ²¡æœ‰ç›´æ¥ä½¿ç”¨ Key çš„ hashCode æ–¹æ³•ï¼Œè€Œæ˜¯å– Key çš„ hashCode æ–¹æ³•ä½ 16 ä½ä¸ Key çš„ hashCode å¼‚æˆ–è¿ç®—ï¼Œè®©å“ˆå¸Œæ›´æ¾æ•£ï¼Œå‡å°‘ç¢°æ’ã€‚")]),t._v(" "),s("h2",{attrs:{id:"put-æ–¹æ³•è§£è¯»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#put-æ–¹æ³•è§£è¯»"}},[t._v("#")]),t._v(" put æ–¹æ³•è§£è¯»")]),t._v(" "),s("p",[t._v("ä¸»è¦å¤„ç†é€»è¾‘ä¸ºï¼š")]),t._v(" "),s("ul",[s("li",[t._v("åˆ¤æ–­ table æ˜¯å¦åˆå§‹åŒ–")]),t._v(" "),s("li",[t._v("åˆ¤æ–­æ•°ç»„ä¸‹æ ‡ä½ç½®çš„å•é“¾è¡¨èŠ‚ç‚¹æ˜¯å¦åˆå§‹åŒ–ï¼Œæœªåˆå§‹åŒ–æ—¶æ„é€ èŠ‚ç‚¹æ’å…¥")]),t._v(" "),s("li",[t._v("ä»¥ä¸Šæ¡ä»¶éƒ½ä¸æ»¡è¶³æ—¶ï¼Œè¯´æ˜æ•°æ®ä¸‹æ ‡ä½ç½®å‡ºç°å†²çªäº†ï¼Œæ‹¿åˆ°å½“å‰çš„ Node èŠ‚ç‚¹\n"),s("ul",[s("li",[t._v("å¦‚æœå½“å‰èŠ‚ç‚¹ Key ä¸æ·»åŠ çš„ Key ç›¸ç­‰ï¼Œæ‰§è¡Œæ›¿æ¢")]),t._v(" "),s("li",[t._v("å¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯çº¢é»‘æ ‘ï¼ŒåŠ å…¥çº¢é»‘æ ‘èŠ‚ç‚¹")]),t._v(" "),s("li",[t._v("å¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯é“¾è¡¨ï¼Œå¾ªç¯é“¾è¡¨ï¼Œå¦‚æœé“¾è¡¨ä¸ŠèŠ‚ç‚¹ä¸æ·»åŠ èŠ‚ç‚¹ç›¸ç­‰ï¼Œæ›¿æ¢é€€å‡ºã€‚å¦åˆ™æ·»åŠ åˆ°å°¾èŠ‚ç‚¹ï¼Œå¦‚æœé“¾è¡¨é•¿åº¦ â‰¥ 8 å°è¯•è½¬çº¢é»‘æ ‘")])])]),t._v(" "),s("li",[t._v("æœ€ååˆ¤æ–­æ˜¯å¦éœ€è¦æ‰©å®¹")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("putVal")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" hash"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" onlyIfAbsent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                   "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" evict"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" tab"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœ table æœªåˆå§‹åˆ™åˆå§‹åŒ–")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tab "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" table"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tab"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tab "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœ table ä¸‹æ ‡ä½ç½®çš„èŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™æ„é€ ä¸€ä¸ªèŠ‚ç‚¹æ”¾å…¥")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tab"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" hash"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            tab"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("newNode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hash"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),t._v(" k"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœ hash å†²çªäº†ï¼Œä½¿ç”¨ equals æ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰æ›¿æ¢")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hash "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" hash "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("k "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" key "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("equals")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("k"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                e "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯çº¢é»‘æ ‘èŠ‚ç‚¹ï¼Œå¯¹çº¢é»‘æ ‘èŠ‚ç‚¹æ‰§è¡Œ put æ“ä½œ")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TreeNode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                e "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TreeNode")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("putTreeVal")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" tab"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" hash"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯é“¾è¡¨èŠ‚ç‚¹ï¼Œå¾ªç¯å¯»æ‰¾é“¾è¡¨å°¾èŠ‚ç‚¹")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" binCount "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("binCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("newNode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hash"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("binCount "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" TREEIFY_THRESHOLD "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ¤æ–­è½¬çº¢é»‘æ ‘")]),t._v("\n                            "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("treeifyBin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tab"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" hash"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hash "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" hash "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("k "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" key "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("equals")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("k"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœå’Œé“¾è¡¨çš„æŸä¸ªèŠ‚ç‚¹ç›¸ç­‰ï¼Œè·³å‡ºå¾ªç¯")]),t._v("\n                    p "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Key å€¼å­˜åœ¨æ—¶æ›¿æ¢")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),t._v(" oldValue "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("onlyIfAbsent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" oldValue "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                    e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterNodeAccess")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" oldValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("modCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("size "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" threshold"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰©å®¹æ“ä½œ")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterNodeInsertion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("evict"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"get-æ–¹æ³•è§£è¯»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#get-æ–¹æ³•è§£è¯»"}},[t._v("#")]),t._v(" get æ–¹æ³•è§£è¯»")]),t._v(" "),s("ul",[s("li",[t._v("åˆ¤æ–­è¡¨æˆ– key æ˜¯å¦æ˜¯ nullï¼Œå¦‚æœæ˜¯ç›´æ¥è¿”å› null")]),t._v(" "),s("li",[t._v("åˆ¤æ–­ç´¢å¼•å¤„ç¬¬ä¸€ä¸ª key ä¸ä¼ å…¥ key æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœç›¸ç­‰ç›´æ¥è¿”å›")]),t._v(" "),s("li",[t._v("å¦‚æœä¸ç›¸ç­‰ï¼Œåˆ¤æ–­é“¾è¡¨æ˜¯å¦æ˜¯çº¢é»‘äºŒå‰æ ‘ï¼Œå¦‚æœæ˜¯ï¼Œç›´æ¥ä»æ ‘ä¸­å–å€¼")]),t._v(" "),s("li",[t._v("å¦‚æœä¸æ˜¯æ ‘ï¼Œéå†é“¾è¡¨æŸ¥æ‰¾")])]),t._v(" "),s("h2",{attrs:{id:"rehash-æ‰©å®¹æ–¹æ³•è§£è¯»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rehash-æ‰©å®¹æ–¹æ³•è§£è¯»"}},[t._v("#")]),t._v(" rehash æ‰©å®¹æ–¹æ³•è§£è¯»")]),t._v(" "),s("p",[t._v("å‡è®¾æ‰©å®¹å‰çš„ table å¤§å°ä¸º 2 çš„ N æ¬¡æ–¹ï¼Œç”±ä¸Šè¿° put æ–¹æ³•è§£æå¯çŸ¥ï¼Œå…ƒç´ çš„ table ç´¢å¼•ç”±å…¶ hash å€¼çš„å N ä½ç¡®å®šã€‚\næ‰©å®¹åçš„ table å¤§å°å³ä¸º 2 çš„ N+1 æ¬¡æ–¹ï¼Œåˆ™å…¶ä¸­å…ƒç´ çš„ table ç´¢å¼•ä¸ºå…¶ hash å€¼çš„å N+1 ä½ç¡®å®šï¼Œæ¯”åŸæ¥å¤šäº†ä¸€ä½ã€‚\nå› æ­¤ï¼Œtable ä¸­çš„å…ƒç´ åªæœ‰ä¸¤ç§æƒ…å†µï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å…ƒç´  hash å€¼ç¬¬ N+1 ä½ä¸º 0ï¼šä¸éœ€è¦è¿›è¡Œä½ç½®è°ƒæ•´")]),t._v(" "),s("li",[t._v("å…ƒç´  hash å€¼ç¬¬ N+1 ä½ä¸º 1ï¼šè°ƒæ•´è‡³åŸç´¢å¼•çš„ä¸¤å€ä½ç½®")])]),t._v(" "),s("p",[t._v("å‚è€ƒå“ˆå¸Œç¢°æ’ä»£ç å®æˆ˜#åˆ†ææ‰©å®¹è¿‡ç¨‹ç†è§£ã€‚")]),t._v(" "),s("h2",{attrs:{id:"å“ˆå¸Œç¢°æ’ä»£ç å®æˆ˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å“ˆå¸Œç¢°æ’ä»£ç å®æˆ˜"}},[t._v("#")]),t._v(" å“ˆå¸Œç¢°æ’ä»£ç å®æˆ˜")]),t._v(" "),s("p",[t._v("å­¦ä¹ ä¸€ç™¾ç¯‡æŠ€æœ¯æ–‡ç« ï¼Œä¸å¦‚å®æˆ˜ debug å¸æ”¶ç‡é«˜ã€‚æ²¡æœ‰å®æˆ˜çš„é˜…è¯»ï¼Œæ¥å¹´è¿˜å¾—æœç´¢å‡ºæ¥é˜…è¯»ğŸ˜ã€‚")]),t._v(" "),s("h3",{attrs:{id:"å®æˆ˜ä»£ç è¯´æ˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®æˆ˜ä»£ç è¯´æ˜"}},[t._v("#")]),t._v(" å®æˆ˜ä»£ç è¯´æ˜")]),t._v(" "),s("p",[t._v("æˆ‘ä»¬å£°æ˜ä¸€ä¸ª ConflictingHash ç±»ä½œä¸º Keyï¼Œå†…éƒ¨ç»´æŠ¤ä¸€ä¸ªæ•´æ•°ï¼Œé‡å†™ equals&hashCode æ–¹æ³•ã€‚")]),t._v(" "),s("ul",[s("li",[t._v("equals æ–¹æ³•æ¯”è¾ƒ i çš„å¤§å°")]),t._v(" "),s("li",[t._v("hashCode æ–¹æ³•å¯¹ i å–æ¨¡ï¼Œç„¶åæ”¾å¤§ 16 å€")])]),t._v(" "),s("p",[t._v("æ­¤å¤„é‡å†™ hashCode æ—¶ï¼Œå–æ¨¡ä¸ºäº†è®© hash ä¸€ç›´å†²çªï¼Œæ”¾å¤§ 16 å€ä¸ºäº†ä¿è¯æ‰©å®¹è¿‡ç¨‹ä¸­é“¾è¡¨èŠ‚ç‚¹çš„è½¬ç§»åˆ†æã€‚")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ConflictingHash")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("equals")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("o "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getClass")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getClass")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ConflictingHash")]),t._v(" that "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ConflictingHash")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" o"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" that"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å› ä¸ºæ­¤å¤„å–æ¨¡åï¼Œå·¦ç§» 4 ä¸ºï¼Œç›¸å½“äºæ”¾å¤§ 16 å€ã€‚æœ€å¤§ä¸º 48")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›¸å¯¹äº HashMap#hash(Object) å‡½æ•°æ¥è¯´ï¼Œ(h = key.hashCode()) ^ (h >>> 16) ç»“æœä¸å˜ã€‚")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("hashCode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç­‰ä»·äº (i % 4) * 16")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("é€šè¿‡åå°„ä¸ org.openjdk.jol.info.GraphLayout å¯¹è±¡å®æ—¶è·å– HashMap å†…éƒ¨æ•°æ®å€¼å˜åŒ–æƒ…å†µåˆ†æï¼Œåœ¨å…³é”®æ“ä½œæ—¶å¯ debug æŸ¥çœ‹è¿è¡Œè¿‡ç¨‹ã€‚")]),t._v(" "),s("p",[t._v("å› ç¯‡å¹…é™åˆ¶ï¼Œæºç å‚è€ƒ "),s("a",{attrs:{href:"https://github.com/GourdErwa/java-advanced/blob/master/java-core/src/main/java/io/gourd/java/core/map/HashMapConflictingHash.java",target:"_blank",rel:"noopener noreferrer"}},[t._v("HashMapConflictingHash"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"å“ˆå¸Œç¢°æ’å®æˆ˜åˆ†æ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å“ˆå¸Œç¢°æ’å®æˆ˜åˆ†æ"}},[t._v("#")]),t._v(" å“ˆå¸Œç¢°æ’å®æˆ˜åˆ†æ")]),t._v(" "),s("p",[t._v("æˆ‘ä»¬åˆå§‹åŒ–ä¸€ä¸ªå®¹é‡ä¸º 16 ï¼Œè´Ÿè½½å› å­ä¸º 0.75f çš„ HashMapï¼Œput åæ‰“å°å†…éƒ¨æ•°æ®ã€‚å…³é”®æ—¥å¿—å¦‚ä¸‹ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("sizeï¼šå¤§å°ç­‰äº put çš„æ•´æ•°æ¬¡æ•°ï¼Œä» 1 å¼€å§‹ put")]),t._v(" "),s("li",[t._v("Nodeï¼šå•é“¾è¡¨èŠ‚ç‚¹")]),t._v(" "),s("li",[t._v("TreeNodeï¼šçº¢é»‘æ ‘èŠ‚ç‚¹")]),t._v(" "),s("li",[t._v("table[0] = 1,2,3,4,5,6,7,8 ï¼šè¡¨ç¤ºæ•°æ®èŠ‚ç‚¹ä¸­å…ƒç´ å†…å®¹")])]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("loadFactor = 0.75\n-----------------------------------------------\ntable      = null   // åˆå§‹åŒ–æ—¶ä¸º null\nthreshold  = 16     // åˆå§‹åŒ–æ—¶ä¸º 16\nsize       = 0\n\n-----------------------------------------------\ntable      = length=16ï¼Œ[0]=Node \nthreshold  = 12     // é‡æ–°è®¡ç®— 12 = 16 * 0.75\nsize       = 1\n\n-----------------------------------------------\ntable      = length=16ï¼Œ[0]=Node \nthreshold  = 12\nsize       = 8\n\ntable[0] = 1,2,3,4,5,6,7,8\n\n-----------------------------------------------\ntable      = length=32ï¼Œ[0]=Node ï¼Œ[16]=Node \nthreshold  = 24\nsize       = 9\n\ntable[0] = 2,4,6,8\ntable[16] = 1,3,5,7,9\n\n-----------------------------------------------\ntable      = length=32ï¼Œ[0]=Node ï¼Œ[16]=Node \nthreshold  = 24\nsize       = 16\n\ntable[0] = 2,4,6,8,10,12,14,16\ntable[16] = 1,3,5,7,9,11,13,15\n\n-----------------------------------------------\ntable      = length=64ï¼Œ[0]=Node ï¼Œ[16]=Node ï¼Œ[32]=Node ï¼Œ[48]=Node \nthreshold  = 48\nsize       = 17\n\ntable[0] = 4,8,12,16\ntable[16] = 1,5,9,13,17\ntable[32] = 2,6,10,14\ntable[48] = 3,7,11,15\n\n-----------------------------------------------\ntable      = length=64ï¼Œ[0]=Node ï¼Œ[16]=Node ï¼Œ[32]=Node ï¼Œ[48]=Node \nthreshold  = 48\nsize       = 32\n\n-----------------------------------------------\ntable      = length=64ï¼Œ[0]=Node ï¼Œ[16]=TreeNode ï¼Œ[32]=Node ï¼Œ[48]=Node \nthreshold  = 48\nsize       = 33\n\n")])])]),s("h4",{attrs:{id:"åˆ†ææ‰©å®¹è¿‡ç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†ææ‰©å®¹è¿‡ç¨‹"}},[t._v("#")]),t._v(" åˆ†ææ‰©å®¹è¿‡ç¨‹")]),t._v(" "),s("ul",[s("li",[t._v("æ·»åŠ ç¬¬ 9 ä¸ªæ•°æ®æ—¶ï¼Œå‘ç”Ÿæ‰©å®¹ï¼Œå› ä¸º table[0] ä¸Šçš„é“¾è¡¨é•¿åº¦ä¸º 8ï¼Œè½¬çº¢é»‘æ ‘æ—¶å› ä¸º table å®¹é‡ä¸å¤Ÿ 64ã€‚")]),t._v(" "),s("li",[t._v("æ·»åŠ ç¬¬ 17 ä¸ªæ•°æ®æ—¶ï¼Œå‘ç”Ÿæ‰©å®¹ï¼Œå› ä¸º table[0] ä¸Šçš„é“¾è¡¨é•¿åº¦ä¸º 8ï¼Œè½¬çº¢é»‘æ ‘æ—¶å› ä¸º table å®¹é‡ä¸å¤Ÿ 64ã€‚")])]),t._v(" "),s("h4",{attrs:{id:"åˆ†ææ‰©å®¹æ—¶èŠ‚ç‚¹è½¬ç§»è¿‡ç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†ææ‰©å®¹æ—¶èŠ‚ç‚¹è½¬ç§»è¿‡ç¨‹"}},[t._v("#")]),t._v(" åˆ†ææ‰©å®¹æ—¶èŠ‚ç‚¹è½¬ç§»è¿‡ç¨‹")]),t._v(" "),s("p",[t._v("æˆ‘ä»¬è¿½è¸ª "),s("code",[t._v("[ConflictingHash(3)] å“ˆå¸Œå€¼ = 3 % 4 << 4 = 48 = [110000] äºŒè¿›åˆ¶")]),t._v(" å¯¹è±¡åœ¨æ‰©å®¹æ—¶çš„è½¬ç§»è¿‡ç¨‹ã€‚")]),t._v(" "),s("p",[t._v("é€šè¿‡ "),s("code",[t._v("tab[i = (n - 1) & hash]")]),t._v(" å®šä½ table ä¸‹æ ‡ä¸ºï¼š")]),t._v(" "),s("ul",[s("li",[t._v("(16 - 1) & 48 = 1 111 & 110 000 = 0 = [0] åè¿›åˆ¶")]),t._v(" "),s("li",[t._v("(32 - 1) & 48 = 11 111 & 110 000 = 10 000 = [16] åè¿›åˆ¶")]),t._v(" "),s("li",[t._v("(64 - 1) & 48 = 111 111 & 110 000 = 110 000 = [48] åè¿›åˆ¶")])]),t._v(" "),s("p",[t._v("åœ¨å®¹é‡ä¸º 16ã€32ã€64 æ—¶ï¼Œåˆ†åˆ«å¯¹åº” table[0]ï¼Œtable[16]ï¼Œtable[48] ä½ç½®ï¼Œä¸ä¸Šè¿°æ—¥å¿—å†…å®¹å»åˆã€‚")]),t._v(" "),s("h4",{attrs:{id:"åˆ†æçº¢é»‘æ ‘è½¬æ¢è¿‡ç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†æçº¢é»‘æ ‘è½¬æ¢è¿‡ç¨‹"}},[t._v("#")]),t._v(" åˆ†æçº¢é»‘æ ‘è½¬æ¢è¿‡ç¨‹")]),t._v(" "),s("p",[t._v("æ·»åŠ ç¬¬ 33 ä¸ªæ•°æ®æ—¶ï¼Œå› ä¸º table[16] ä¸Šçš„é“¾è¡¨é•¿åº¦ä¸º 8ï¼Œtable å®¹é‡ä¸º 64ï¼Œè¯¥èŠ‚ç‚¹è½¬æ¢ä¸ºçº¢é»‘æ ‘èŠ‚ç‚¹")]),t._v(" "),s("h2",{attrs:{id:"hashmap-å­˜åœ¨çš„é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hashmap-å­˜åœ¨çš„é—®é¢˜"}},[t._v("#")]),t._v(" HashMap å­˜åœ¨çš„é—®é¢˜")]),t._v(" "),s("ul",[s("li",[t._v("å‘ç”Ÿæ‰©å®¹æ—¶ï¼Œå¯èƒ½ä¼šäº§ç”Ÿå¾ªç¯é“¾è¡¨ï¼Œåœ¨æ‰§è¡Œ get çš„æ—¶å€™ï¼Œä¼šè§¦å‘æ­»å¾ªç¯ï¼Œå¼•èµ· CPU çš„ 100%é—®é¢˜ã€‚å½“ç„¶ï¼Œå¹¶å‘å°±åº”è¯¥ç”¨ ConcurrentHashMap å®ç°ã€‚")])])])}),[],!1,null,null,null);a.default=e.exports}}]);